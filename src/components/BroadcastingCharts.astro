---
import LineChart from './LineChart.astro';

// Revenue Chart
const revenueLabels = ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'];
const revenueDatasets = [
  {
    label: 'Pay-TV Subscriptions',
    data: [27.5, 28.3, 29.4, 31.2, 32.4, 33.5, 36.5, 37.1, 37.3, 37.6],
    borderColor: 'rgba(102, 126, 234, 1)',
    backgroundColor: 'rgba(102, 126, 234, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  },
  {
    label: 'Broadcasting Advertising',
    data: [35.0, 34.6, 31.8, 32.4, 33.0, 31.4, 31.0, 28.8, 25.0, 22.9],
    borderColor: 'rgba(239, 68, 68, 1)',
    backgroundColor: 'rgba(239, 68, 68, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  },
  {
    label: 'Home Shopping Fees',
    data: [0, 0, 24.4, 24.0, 23.7, 23.5, 22.0, 21.5, 20.5, 20.2],
    borderColor: 'rgba(245, 158, 11, 1)',
    backgroundColor: 'rgba(245, 158, 11, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  }
];

// Advertising Chart
const advertisingDatasets = [
  {
    label: 'Broadcasting Advertising',
    data: [35.0, 34.6, 31.8, 32.4, 33.0, 31.4, 31.0, 28.8, 25.0, 22.9],
    borderColor: 'rgba(239, 68, 68, 1)',
    backgroundColor: 'rgba(239, 68, 68, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  },
  {
    label: 'Digital Advertising',
    data: [null, null, null, null, 50.5, 57.8, 67.8, 76.1, 83.8, null],
    borderColor: 'rgba(59, 130, 246, 1)',
    backgroundColor: 'rgba(59, 130, 246, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4,
    borderDash: [5, 5]
  }
];

// Platform Chart
const platformDatasets = [
  {
    label: 'IPTV',
    data: [14.7, 16.7, 18.9, 21.1, 23.3, 25.0, 26.8, 27.9, 28.7, 29.3],
    borderColor: 'rgba(16, 185, 129, 1)',
    backgroundColor: 'rgba(16, 185, 129, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  },
  {
    label: 'Cable (SO)',
    data: [9.4, 8.9, 8.5, 8.0, 7.6, 7.0, 6.5, 6.1, 5.9, 5.7],
    borderColor: 'rgba(239, 68, 68, 1)',
    backgroundColor: 'rgba(239, 68, 68, 0.1)',
    borderWidth: 3,
    fill: true,
    tension: 0.4
  }
];
---

<div class="charts-section">
  <LineChart 
    chartId="revenueChart"
    title="Net Inflow Revenue Trends (2015-2024)"
    labels={revenueLabels}
    datasets={revenueDatasets}
    yAxisLabel="Amount (Trillion Won)"
    yAxisCallback={true}
  />
  
  <LineChart 
    chartId="advertisingChart"
    title="Broadcasting vs Digital Advertising Trends"
    labels={revenueLabels}
    datasets={advertisingDatasets}
    yAxisLabel="Amount (Trillion Won)"
    yAxisCallback={false}
  />
  
  <LineChart 
    chartId="platformChart"
    title="IPTV vs Cable Platform Subscription Fee Trends"
    labels={revenueLabels}
    datasets={platformDatasets}
    yAxisLabel="Amount (Trillion Won)"
    yAxisCallback={false}
  />
</div>

<style>
  .charts-section {
    margin: 3rem 0;
  }
</style>
