---
import BaseLayout from '../layouts/BaseLayout.astro';
import coursesData from '../data/courses.json';

const courses = coursesData.courses;
---

<BaseLayout title="Teaching" description="Courses taught by Yonghee Kim">
  <div class="teaching-page">
    <header class="page-header">
      <h1>Teaching</h1>
      <p class="subtitle">Courses on Media Policy, Data Analytics, and Business Information Systems</p>
    </header>

    {courses.length > 0 && (
      <section class="courses-section">
        {courses.map((course, index) => (
          <a href={`/courses/${course.code}`} class="course-item">
            <div class="course-top">
              <div class="course-info">
                <h3 class="course-title">{course.title}</h3>
                <div class="course-meta">
                  <span>{course.schedule}</span>
                  <span class="meta-sep">&middot;</span>
                  <span>Year {course.year}</span>
                  <span class="meta-sep">&middot;</span>
                  <span>{course.credits} Credits</span>
                </div>
              </div>
              <div class="course-code">{course.code}</div>
            </div>
            <p class="course-description">{course.description}</p>
          </a>
        ))}
      </section>
    )}
  </div>
</BaseLayout>

<style>
  .teaching-page {
    max-width: var(--container-max);
    margin: 0 auto;
    padding: var(--space-16) var(--space-8);
  }

  /* Header */
  .page-header {
    margin-bottom: var(--space-12);
  }

  .page-header h1 {
    font-family: var(--font-serif);
    font-size: var(--step-3);
    font-weight: 400;
    color: var(--color-text);
    margin-bottom: var(--space-2);
  }

  .subtitle {
    font-size: var(--step-0);
    color: var(--color-text-secondary);
    font-weight: 300;
  }

  /* Courses - single column list */
  .courses-section {
    display: flex;
    flex-direction: column;
  }

  .course-item {
    display: block;
    padding: var(--space-8) 0;
    border-bottom: 1px solid var(--color-border-light);
    text-decoration: none;
    color: inherit;
    transition: background var(--transition-fast);
  }

  .course-item:first-child {
    padding-top: 0;
  }

  .course-item:last-child {
    border-bottom: none;
  }

  .course-item:hover {
    background: var(--color-surface);
    margin-left: calc(-1 * var(--space-4));
    margin-right: calc(-1 * var(--space-4));
    padding-left: var(--space-4);
    padding-right: var(--space-4);
    border-radius: var(--border-radius);
  }

  .course-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-4);
    margin-bottom: var(--space-3);
  }

  .course-info {
    flex: 1;
  }

  .course-title {
    font-size: var(--step-1);
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: var(--space-2);
    line-height: 1.4;
  }

  .course-meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    font-size: 0.875rem;
    color: var(--color-text-muted);
  }

  .meta-sep {
    color: var(--color-border);
  }

  .course-code {
    font-size: 0.8125rem;
    color: var(--color-text-muted);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .course-description {
    font-size: 0.9375rem;
    color: var(--color-text-secondary);
    line-height: 1.7;
    max-width: var(--measure);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .teaching-page {
      padding: var(--space-8) var(--space-4);
    }

    .course-top {
      flex-direction: column;
      gap: var(--space-1);
    }

    .course-item:hover {
      margin-left: calc(-1 * var(--space-2));
      margin-right: calc(-1 * var(--space-2));
      padding-left: var(--space-2);
      padding-right: var(--space-2);
    }
  }
</style>
